# Matrix Solver

## Описание

Эта программа реализует работу с квадратными матрицами размером `n × n`: инициализацию из файла или по формуле, вычисление вектора правой части, решение СЛАУ методом вращения. Все входные параметры передаются через командную строку.

## Компиляция

```bash
make
```

## Запуск

```bash
./main n r s [filename]
```

**Аргументы:**

- `n` — размерность квадратной матрицы `n × n`
- `r` — количество строк и столбцов, выводимых на экран
- `s` — способ инициализации:
  - `0` — ввод матрицы из файла (обязательно указывается `filename`)
  - `1–4` — инициализация по встроенной формуле `f(s, n, i, j)`
- `filename` — путь к файлу с матрицей (обязателен, если `s = 0`)

### Примеры

Чтение матрицы 4×4 из файла:

```bash
./main 4 4 0 a.txt
```

Инициализация матрицы 2000×2000 по формуле №1:

```bash
./main 2000 6 1
```

## Формат входного файла (для `s = 0`)

Файл должен содержать `n` строк по `n` чисел, разделенных пробелами или табуляцией:

```
1.0 2.0 3.0
4.0 5.0 6.0
7.0 8.0 9.0
```

## Формулы инициализации

| `s` | Формула для `a[i][j]`                                |
|-----|------------------------------------------------------|
| 1   | `n - max(i, j) + 1`                                  |
| 2   | `max(i, j)`                                          |
| 3   | `abs(i - j)`                                         |
| 4   | `1 / (i + j - 1)`                                    |

## Построение правой части `b`

В задачах решения СЛАУ вектор `b` рассчитывается по формуле:

```math
b_i = \sum_{k=0}^{\lfloor (n+1)/2 \rfloor} a_{i, 2k+1}
```

## Структура проекта

- `main.c` — обработка аргументов командной строки и запуск логики
- `Input_Matrix.c` — чтение матрицы из файла и инициализация по формуле
- `Solver.c` — решение системы или обращение матрицы

## Вывод результатов

- Матрицы выводятся в формате `%10.3e`, не более `r × r` элементов
- Результатами являются:
  - Вектор решения `x`
  - Ошибки `r1` и `r2`:
    - При решении СЛАУ:  
      ```math
      r_1 = \frac{ \|Ax - b\|_1 }{ \|b\|_1 }
      ```
      ```math
      r_2 = \frac{ \|x - \bar{x}\|_1 }{ \|\bar{x}\|_1 }, \quad \bar{x}_i = i \bmod 2
      ```
## Ограничения

- Без выделения лишней памяти в функции решения
- Временная сложность: `O(n³)`
- Используемая память:
  - Решение СЛАУ: `n² + O(n)`
  - Обратная матрица: `2n² + O(n)`
- Все функции изолированы — запрещено использовать глобальные переменные

## Обработка ошибок

- 1. Некорректные аргументы:
    - неправильное количество аргументов;
    - некорректные значения аргументов (n<=0, r<=0, r > n)
    - не удалось считать число для n, r или s;
    - некорректное значение s;
    - при s == 0 не указан файл.
- 2. Не удалось выделить память.

- 3. Ошибки чтения файла:
    - указанного файла не существует;
    - файл пуст;
    - не удалось считать матрицу из файла.
- 4. Вырожденная матрица.
